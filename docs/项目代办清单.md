# 项目代办清单（tdiot-ui-vue3）

## 1. 门户列表页美化与搜索筛选细化
- 设备列表页
  - 文件：`src/views/portal/devices/index.vue`
  - 默认显示字段：名称、站点名称类型、在线状态、设备编号、所有者、所属项目、省级编号、城市、县、站点编号、站点名称
  - 美化项：表头与行距、主列加粗、时间字段格式化与对齐、空态与加载态视觉优化、工具栏间距统一、列宽适应内容
  - 列展示：依据 `DEVICE_FIELDS` 顺序与别名；突出 `name/type/lastActivityTime` 等关键字段
  - 验证：列表加载、排序、选择、导出、关联筛选均正常
- 资产列表页
  - 文件：`src/views/portal/assets/index.vue`
  - 默认显示字段：名称、监测点名称、省级编号,监测点编号,建设项目，关联雨量,市,县（市、区）,乡（镇、街道）,村（居）,建设级别,建设单位,建设年份
  - 美化项：标题视觉强化（主题色边框/淡底）、列对齐与别名统一、首列主键高亮、列宽适应内容
  - 搜索筛选细化：补充 `类型/市/县/乡/创建时间范围` 占位与校验；对应 `buildKeyFilters` 谓词组合
  - 验证：筛选与分页组合、导出选择集与全量均正常

## 2. 全局与页面标题修改
- 全局标题（浏览器 Tab / 加载页）
  - 配置项：`.env` 的 `VITE_GLOB_APP_TITLE`
  - 生效位置：`index.html` 的 `<title>` 与加载页标题；路由切换组合逻辑见 `src/hooks/web/useTitle.ts`
- 页面/菜单标题词条
  - 中文：`src/locales/lang/zh-CN/routes/portal.ts`
  - 英文：`src/locales/lang/en/routes/portal.ts`
  - 路由引用：`src/router/routes/modules/portal.ts` 的 `meta.title`
- 页面标题栏
  - 组件：`PageWrapper`
  - 隐藏：将 `title` 设为字符串 `'false'`
  - 自定义：使用 `#headerTitle` 或 `#title` 插槽增强样式与图标

## 3. 登录页美化
- 入口文件：`src/layouts/views/login/Login.vue`
- 相关组件：`src/components/Authentication/src/*.vue`
- 美化方向：
  - 品牌区：Logo 与项目名居中、主题色呼应
  - 表单：输入框聚焦态、错误提示与校验文案优化、主按钮动效
  - 背景：浅色纹理或主题色渐变、深色模式适配
  - 交互：第三方登录入口、验证码/二维码登录的统一式样
- 验证：多语言切换、移动端视口、失败/锁定态、找回/注册流程

## 4. 前台预警信息展示
- 新增视图：`src/views/tdiot/alerts/index.vue`
- 路由模块：`src/router/routes/modules/tdiot.ts`（自动加载，遵循扩展规则）
- 国际化词条：
  - 中文：`src/locales/lang/zh-CN/tdiot/alerts.ts`
  - 英文：`src/locales/lang/en/tdiot/alerts.ts`
- 展示内容（建议）：
  - 列表：预警级别/来源/时间/关联设备或资产；筛选与区分级别颜色
  - 地图联动：点击预警定位至地图坐标（复用门户地图页）
  - 详情：预警内容、处理进度、关联对象跳转
- 验证：数据拉取与分页、筛选组合、与地图/详情页的跳转

## 5. 地灾点详情页
- 国际化词条：
- 展示内容（建议）：
  - 列表：预警级别/来源/时间/关联设备或资产；筛选与区分级别颜色
  - 地图联动：bug1：地图中的设备点标签在拖动地图上没有落在原有坐标点上，而是保持居中；bug2：
  - 详情：信息现在是文本堆砌很难看，改用和设备详情表类似的卡片形式
- 验证：数据拉取与分页、筛选组合、与地图/详情页的跳转
## 6. 设备详情页
- 国际化词条：
  - 中文：`src/locales/lang/zh-CN/portal/devices/detail.ts`
  - 英文：`src/locales/lang/en/portal/devices/detail.ts`
- 展示内容（建议）：
  - 列表：预警级别/来源/时间/关联设备或资产；筛选与区分级别颜色
  - 数据可视化：bug1：时间选择控件没有与获取数据api调用联动，修改时间后没有重新获取数据刷新图表；新增数据聚合快捷选项
  - 详情：信息现在是文本堆砌很难看
- 验证：数据拉取与分页、筛选组合、与地图/详情页的跳转
## 7.告警信息详情页
- 国际化词条：
  - 中文：`src/locales/lang/zh-CN/tdiot/alerts/detail.ts`
  - 英文：`src/locales/lang/en/tdiot/alerts/detail.ts`
- 展示内容（建议）：
  - 告警信息的详情卡片，并提供交互按钮
  - 提供返回来源设备的按钮
  - 告警信息详情页以右侧弹出的方式出现在原页面

## 质量保障与约束
- 不修改上游核心文件，扩展与覆写优先（见仓库规则）
- 代码质量检查：
  - `npm run type:check`（类型检查）
  - `npm run lint:all`（ESLint/Prettier/Stylelint）
- 运行验证：
  - 开发服务：`run_dev_node20.ps1`（Node 20）
  - 门户路径：设备/资产列表、地图页、预警页联动检查

## 参考文件索引
- 列表页：`src/views/portal/devices/index.vue`、`src/views/portal/assets/index.vue`
- 详情页：`src/views/portal/devices/detail.vue`、`src/views/portal/assets/detail.vue`
- 地图页：`src/views/portal/map/index.vue`
- 路由：`src/router/routes/modules/portal.ts`、`src/router/routes/modules/tdiot.ts`
- 国际化：`src/locales/lang/zh-CN/routes/portal.ts`、`src/locales/lang/en/routes/portal.ts`
- 全局标题：`.env`、`index.html`、`src/hooks/web/useTitle.ts`

